<main class="flex justify-center py-10">
  <div class="w-1/3 p-4">
    <h3 class="text-center">Accede con tu cuenta</h3>

    <form action="#" [formGroup]="form">
      <div></div>
      <mat-divider class="mt-10 p-4"></mat-divider>
      <!-- Pedimos el nombre de usuario -->
      <div class="username-container">
        <label
          for="username"
          class="block mb-2 text-xl font-medium text-gray-900"
          >Nombre de usuario:</label
        >
        <mat-form-field class="w-full">
          <mat-label>Ingresa tu nombre de usuario</mat-label>
          <input
            matInput
            placeholder="Nombre de usuario"
            formControlName="username"
            (blur)="updateErrorMessage()"
            required
          />
          <mat-error
            *ngIf="
              form.get('username')?.invalid && form.get('username')?.touched
            "
          >
            {{ errorMessage() }}
          </mat-error>
        </mat-form-field>
      </div>

      <!-- Pedimos el password -->
      <div class="password-container">
        <label
          for="password"
          class="block mb-2 text-xl font-medium text-gray-900"
          >Contraseña:</label
        >
        <mat-form-field class="w-full mb-4">
          <mat-label>Ingresa tu contraseña</mat-label>
          <input
            matInput
            formControlName="password"
            [type]="hide() ? 'password' : 'text'"
            required
          />
          <button
            mat-icon-button
            matSuffix
            (click)="clickEvent($event)"
            [attr.aria-label]="'Hide password'"
            [attr.aria-pressed]="hide()"
          >
            <mat-icon>{{ hide() ? "visibility_off" : "visibility" }}</mat-icon>
          </button>
          <mat-error
            *ngIf="
              form.get('password')?.invalid && form.get('password')?.touched
            "
          >
            La contraseña es requerida
          </mat-error>
          <mat-error
            *ngIf="
              form.get('password')?.hasError('minlength') &&
              form.get('password')?.touched
            "
          >
            La contraseña debe tener al menos 8 caracteres
          </mat-error>
        </mat-form-field>
      </div>
      <div class="forgot-password-button flex flex-col justify-center">
        <a mat-button routerLink="../forgot-password"
          >¿Olvidaste tu contraseña? Da click aquí</a
        >
      </div>
      <br />
      <mat-divider></mat-divider>
      <br />
    </form>
    <div class="next-button w-full">
      <a
        mat-flat-button
        extended
        color="primary"
        type="submit"
        class="w-full"
        (click)="signIn()"
      >
        Ingresar
      </a>
    </div>
    <div class="register-button flex flex-col justify-center mt-4">
      <a mat-button routerLink="../sign-up" class="text-center">
        ¿No tienes cuenta? Regístrate aquí
      </a>
    </div>
  </div>
</main>
